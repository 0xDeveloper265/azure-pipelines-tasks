 Team Build provides a number predefined variables that can be used in configuring your build definition or in your build scripts.

There are a number of scopes where the variables are defined:
* Global Build Variables - These are generated by TFBuild on the server side and are sent to the agent as part of the build job.  An example this variable would be `Build.BuildNumber`
	* In addition tasks or build scripts can contribute to this collection of variables and they will be available both in the context and in the environment for downstream tasks.
* Agent Variables - These are sent to the server as part of the agent registration and connection process.  
	* They are derived as a combination of several inputs:
		* The machine level environment variables
		* The users level environment variables for the user the agent is running as
		* Explicit properties set in the agent config file
		* Location of tools and frameworks that are discovered by plugins on the agent. An example of this would be:
			* `MSBuild_14.0` - points to the MSBuildToolsPath for 14.0 version of msbuild
* Agent Build Variables - These are generated on the agent in the scope of a particular build job prior to it starting. An example of this is `Build.SourcesDirectory`.




#### Global Build Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
            <th>Server, Agent</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    System.TeamProject
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_TEAMPROJECT
                </p>
            </td>
            <td>
                <p>
                    The name of the team project that this build belongs to
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.TeamFoundationServerUri
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_TEAMFOUNDATIONSERVERURI
                </p>
            </td>
            <td>
                <p>
                    The URL of the team foundation server
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.TeamFoundationCollectionUri
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_TEAMFOUNDATIONCOLLECTIONURI
                </p>
            </td>
            <td>
                <p>
                    The URL of the team foundation collection
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.Auth.UserName
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_AUTH_USERNAME
                </p>
            </td>
            <td>
                <p>
                    The user name to authenticate back to TFS with. This is defined on the build definition and is defaulted to the &lt;BUILD SERVICE IDENTITY&gt; for the team project the build belongs to.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    System.Auth.Password
                </p>
            </td>
            <td>
                <p>
                    SYSTEM_AUTH_PASSWORD
                </p>
            </td>
            <td>
                <p>
                    The generated password to authenticate back to TFS with. This password is valid only during this build
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.DefinitionName
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDDEFINITIONNAME
                </p>
            </td>
            <td>
                <p>
                    The name of the Build Definition the current build belongs to
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.DefinitionVersion
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDDEFINITIONVERSION
                </p>
            </td>
            <td>
                <p>
                    The version of the Build Definition the current build belongs to
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.BuildNumber
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDNUMBER
                </p>
            </td>
            <td>
                <p>
                    The build number assigned to the build by TFS using the build number format specified.
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.BuildUri
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDURI
                </p>
            </td>
            <td>
                <p>
                    The Uri for the build
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.BuildId
                </p>
            </td>
            <td>
                <p>
                    BUILD_BUILDID
                </p>
            </td>
            <td>
                <p>
                    The Id of the build record
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.QueuedBy
                </p>
            </td>
            <td>
                <p>
                    BUILD_QUEUEDBY
                </p>
            </td>
            <td>
                <p>
                    The identity of the user who queued the build.
                </p>
                <ul>
                    <li>In the case of CI and Scheduled this will simply be the system identity</li>
                    <li>For manual this will be the identity of the user who queued the build</li>
                    <li>For external triggers it will be the identity used to authenticate to the service</li>
                </ul>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.RequestedFor
                </p>
            </td>
            <td>
                <p>
                    BUILD_REQUESTEDFOR
                </p>
            </td>
            <td>
                <p>
                    This user the build was requested for. In a CI build this will be the user who performed the check-in that triggered the build.
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.SourceVersion
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCEVERSION
                </p>
            </td>
            <td>
                <p>
                    The latest version control change that is included in this build. This will be version control specific based on the provider. For Git this will the commit ID and for Tfvc this will be the change set number in the format CS1234.
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.SourceBranch
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCEBRANCH
                </p>
            </td>
            <td>
                <p>
                    The branch the build was queued for.
                </p>
                <ul>
                    <li>For Git this is the name of the branch in the formation refs/heads/master.</li>
                    <li>For Tfvc this will be the root server path for the workspace. $/teamproject/branch</li>
                </ul>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.CommitMessage
                </p>
            </td>
            <td>
                <p>
                    BUILD_COMMITMESSAGE
                </p>
            </td>
            <td>
                <p>
                    The message of the commit or changeset that triggered the build
                </p>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Name
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_NAME
                </p>
            </td>
            <td>
                <p>
                    The name of the repository in the build. By default this is the name of the Git repository or the name of the team project in the case of Tfvc.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Provider
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_PROVIDER
                </p>
            </td>
            <td>
                <p>
                    The name of the source provider for the build
                </p>
                <ul>
                    <li>TfGit - Git repository hosted in the TFS server</li>
                    <li>Tfvc - Team Foundation Version Control</li>
                    <li>Git - Git repository hosted on an external server</li>
                </ul>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Clean
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_CLEAN
                </p>
            </td>
            <td>
                <p>
                    Whether or not to perform an incremental update of the local copy of the sources. In the case of Git we will delete the checkout files always and only delete the .git folder if this is set to true
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Uri
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_URI
                </p>
            </td>
            <td>
                <p>
                    The URL for the repository synced for this build
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Auth.UserName
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_AUTH_USERNAME
                </p>
            </td>
            <td>
                <p>
                    The username for the repo.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Auth.Password
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_AUTH_PASSWORD
                </p>
            </td>
            <td>
                <p>
                    The password for the repo.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Tfvc.Workspace
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_TFVC_WORKSPACE
                </p>
            </td>
            <td>
                <p>
                    The name of the workspace created for the build.This is only valid for Tfvc.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Tfvc.Shelveset
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_TFVC_SHELVESET
                </p>
            </td>
            <td>
                <p>
                    The name of the shelveset to include in this build. This is used for buddy build and code review validation scnarios
                </p>
            </td>
            <td>
                <p>
                    S
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.Repository.Git.SubmoduleCheckout
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_GIT_SUBMODULECHECKOUT
                </p>
            </td>
            <td>
                <p>
                    Whether or not to checkout submodules.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
    </tbody>
</table>


#### Agent Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
            <th>Server, Agent</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    Agent.Name
                </p>
            </td>
            <td>
                <p>
                    AGENT_NAME
                </p>
            </td>
            <td>
                <p>
                    The name of the agent as it is registered with the pool. This is likely different than the machine name
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.OS
                </p>
            </td>
            <td>
                <p>
                    OS
                </p>
            </td>
            <td>
                <p>
                    The name of the operating system the agent is installed on. For windows this reports the value of the OS environment variable (Windows_NT)
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.HomeDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_HOMEDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The directory the agent is installed into. This contains the agent bits
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.RootDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_ROOTDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The root directory for this agent to sync source. By default it is the same as $(Agent)
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.WorkingDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_WORKINGDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The working directory for this agent. By default $(Agent.RootDirectory)\_work.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    MSBuild[_x64]
                </p>
            </td>
            <td>
                <p>
                    MSBUILD[_X64]
                </p>
            </td>
            <td>
                <p>
                    The path to the directory that contains the latest version of MSBuild installed on the agent for each architecture, none (x86) or x64.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    MSBuild_&lt;version&gt;[_x64]
                </p>
            </td>
            <td>
                <p>
                    MSBUILD_14.0[_X64]
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of MSBuild installed on the agent. The value is the path to the specific version and architecture of MSBuild. Supported versions 2.0, 3.5, 4.0, 12.0, 14.0
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    DotNetFramework_&lt;version&gt;[_x64]
                </p>
            </td>
            <td>
                <p>
                    DOTNETFRAMEWORK_4.5.2[_X64]
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of the .NET framework installed on the agent.  The value is set to the installation path for the given architecture, none (x86) or x64.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    VisualStudio_&lt;version&gt;
                </p>
            </td>
            <td>
                <p>
                    VISUALSTUDIO_14.0
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of Visual Studio installed on the agent. The value is set to the value for the ShellFolder registry key which should be the root of the visual studio installation.  Supported versions 10.0, 11.0, 12.0, 14.0
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    VisualStudio_IDE_14.0
                </p>
            </td>
            <td>
                <p>
                    VISUALSTUDIO_IDE_14.0
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of Visual Studio installed on the agent. The value is set to the value for the InstallDir registry key. This is the folder that contains devenv.exe. Supported versions 10.0, 11.0, 12.0, 14.0
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    VSTest_&lt;version&gt;
                </p>
            </td>
            <td>
                <p>
                    VSTEST_14.0
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of visual studio installed on the agent that contains vstest.console.exe.  Value is the path to the folder that contains vstest.console.exe.  Supported versions 12.0, 14.0.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    WindowsKit
                </p>
            </td>
            <td>
                <p>
                    WINDOWSKIT
                </p>
            </td>
            <td>
                <p>
                    The path to the highest version of the Windows Kit installed on the agent
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    WindowsKit_&lt;major&gt;.&lt;minor&gt;
                </p>
            </td>
            <td>
                <p>
                    WINDOWSKIT_8.1
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of the windows kit installed on the agent. The value is set to the installation root directory for each version
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    WindowsSdk
                </p>
            </td>
            <td>
                <p>
                    WINDOWSSDK
                </p>
            </td>
            <td>
                <p>
                    The path to the highest version of the Windows SDK installed on the agent
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    WindowsSdk_&lt;major&gt;.&lt;minor&gt;
                </p>
            </td>
            <td>
                <p>
                    WINDOWSSDK_8.1
                </p>
            </td>
            <td>
                <p>
                    Defined for each version of the windows sdk installed on the agent. The value is set to the installation root for the given sdk version.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    WindowsSdk_&lt;major&gt;.&lt;minor&gt;_NetFx&lt;version&gt;Tools[_x64]
                </p>
            </td>
            <td>
                <p>
                    WINDOWSSDK_8.1_NETFX40TOOLS[_X64]
                </p>
            </td>
            <td>
                <p>
                    Defined for each NetFx tools version for each Windows SDK version installed on the agent.  The value is set to the installation folder for the tools for the given architecture, none (x86) or x64.
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
    </tbody>
</table>


#### Agent Build Variables
<table>
    <thead>
        <tr>
            <th>Variable Name</th>
            <th>Environment Variable Name</th>
            <th>Description</th>
            <th>Server, Agent</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    Build.Repository.LocalPath
                </p>
            </td>
            <td>
                <p>
                    BUILD_REPOSITORY_LOCALPATH
                </p>
            </td>
            <td>
                <p>
                    The local path on the agent where the sources are syncd to. Will be $(Agent.BuildDirectory)\$(Build.Repository.Name)
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.SourcesDirectory
                </p>
            </td>
            <td>
                <p>
                    BUILD_SOURCESDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The folder where all sources for the build definition are synced to.Will be $(Agent.BuildDirectory)\$(Build.Repository.Name)
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Build.StagingDirectory
                </p>
            </td>
            <td>
                <p>
                    BUILD_STAGINGDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The local path on the agent where any files and artifacts that are expected to be uploaded with the drop need to be placed, it will be cleaned up after the files of been copied to the destination. Will be $(Agent.BuildDirectory)\Staging
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    Agent.BuildDirectory
                </p>
            </td>
            <td>
                <p>
                    AGENT_BUILDDIRECTORY
                </p>
            </td>
            <td>
                <p>
                    The local path on the agent where all folders for a given build definition are created. Will be $(Agent.RootDirectory\&lt;hash of collection of definitionid and repository URL&gt;
                </p>
            </td>
            <td>
                <p>
                    A
                </p>
            </td>
        </tr>
    </tbody>
</table>